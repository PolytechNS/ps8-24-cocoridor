<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../Game-Page/gamePage.css">
    <title>GamePage</title>
    <script src="../Game-Page/gamePage.js"> </script>
    <script src="../js/socket.io.js"> </script>
</head>
<body>
    <h1>Cocoridor</h1>
    <h2 id="playerplaying">Au tour de Player 1 ...</h2>
    <section id="game">

    </section>

    
    <button onclick="openChat()">
        chat
    </button>
 
    <div id="chatPopup" style="display: none;">
        <textarea id="chatInput" placeholder="Entrez votre message"></textarea>
        <button onclick="sendMessage()">Envoyer</button>
        <button onclick="closeChat()">Fermer</button>
        <a href="../EndPage/endPage.html?winner=1">
            <button>gagner1</button>
        </a>
        <a href="../EndPage/endPage.html?winner=2">
            <button>gagner2</button>
        </a>
    </div>

    <script>
        function openChat() {
            document.getElementById("chatPopup").style.display = "block";
        }

        function closeChat() {
            document.getElementById("chatPopup").style.display = "none";
        }

        function sendMessage() {
            var message = document.getElementById("chatInput").value;
            console.log("Message envoy√© : " + message);
        }
    </script>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const mode = urlParams.get('mode');
        var socket;
        switch (mode) {
            case "local":
                socket=io('/api/game');
                break;
            case "ia":
                socket=io('/api/game');
                break;
            default:
                console.log("Mode inconnu");
                break;
        }
        socket.on("updateBoard",(board)=>{console.log("INSANE OMG");DisplayBoard(board);})
    </script>
</body>
</html>